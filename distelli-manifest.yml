iamchristopher/AscensionServer:

  #Learn about the distelli-manifest.yml at https://www.distelli.com/docs/reference/distelli-manifest
  PkgInclude:
    - '*'

  PkgExclude:
    - node_modules/

  PreRelease:
    - npm install

  Build:
    - echo "Begin Build"
    #- npm install
    #- npm test

  PreInstall:
    - echo "Begin PreInstall"
    - sudo apt-get -y update
    - echo "Installing NVM"
    - wget -qO- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash

  PostInstall:
    - echo "Installing NVM version"
    - nvm install 4.2.1
    - echo "Switching NVM version"
    - nvm use 4.2.1
    - echo "Installing PM2"
    - sudo npm i pm2 -g
    - echo "Done Installing PM2"
    - echo "Begin PostInstall"
    - npm install
    - echo "Done NPM install"

  Exec:
    - echo "Starting application"
    - pm2 gracefulReload process-production.json
